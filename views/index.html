<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>Walrus Punch!</title>
    <script src="js/lib/jquery-2.1.1.min.js"></script>
    <script src="js/lib/knockout-3.2.0.js"></script>
    <script src="js/lib/sugar.min.js"></script>
    <script src="js/siteViewModel.js"></script>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="main-app absolute fill">
        <div class="relative-wrapper">
            <div class="main-area absolute fill">
                <div class="relative-wrapper">
                    <div class="hero-grid absolute fill">
                        <div class="scroll-wrapper fill">
                            <div class="heroes" data-bind="foreach: heroes" >
                                <div class="hero" data-bind="click: function(){ $parent.heroSelected($data); }, css: { selected: selected}">
                                    <div class="relative-wrapper">
                                        <img class="background-image fill" data-bind="attr: { src: imageUrl}">
                                        <div class="name" data-bind="text: name"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="counterpick-results absolute">
                        <div class="relative-wrapper">
                            <div class="hero-list-wrapper fill absolute">
                                <div class="scroll-wrapper fill">
                                    <div class="counterpicks" data-bind="foreach: counterPicks">
                                        <div class="hero">
                                            <div class="hero-content">
                                                <div class="image-wrapper">
                                                    <img class="fill" data-bind="attr: { src: imageUrl}">
                                                </div>
                                                <div class="text-wrapper">
                                                    <div class="name" data-bind="text: name"></div>
                                                    <div class="advantage-text" data-bind="css: {positive: counterPickAdvantage > 0, neutral: counterPickAdvantage === 0, negative: counterPickAdvantage < 0}">
                                                        <span class="advantage" data-bind="text: counterPickAdvantage"></span>
                                                        <span class="icon" data-bind="css: { 'ico-pointer-up': counterPickAdvantage > 0, 'ico-minus': counterPickAdvantage === 0, 'ico-pointer-down': counterPickAdvantage < 0}"></span>
                                                    </div>
                                                </div>

                                                <div class="roles" data-bind="foreach: roles">
                                                    <img class="role-icon" data-bind="attr: { src: 'images/roles/'+($data.replace(' ','_'))+'.png'}">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="dropdown-wrapper absolute">
                                <div class="title">
                                    Select a Role
                                </div>
                                <div class="dropdown">
                                    Dropdown Here!
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <div class="enemy-team absolute">
                <div class="title">
                    Enemy Team
                </div>
                <div class="team-wrapper">
                    <div class="team" data-bind="foreach: enemyHeroes">
                        <div class="hero" data-bind="click: function(){ $parent.heroRemoved($data); }">
                            <div class="relative-wrapper">
                                <img class="background-image fill" data-bind="attr: { src: imageUrl}">
                                <div class="icon">
                                    <span class="ico-close"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="top-header absolute">
        <div class="title">
            Walrus Punch!
        </div>
        <div class="sub-title">
            A Dota 2 CounterPicker
        </div>
        <div class="author-info">
            by Broderick Young
            <!--Go to modal-->
        </div>
    </div>
    <script>
        var heroes;
        var vm = new SiteViewModel();
        $.get("/getHeroes", function(data){
            heroes = data;
            vm.loadHeroes(heroes);
        });

        ko.applyBindings(vm);
    </script>
</body>
</html>